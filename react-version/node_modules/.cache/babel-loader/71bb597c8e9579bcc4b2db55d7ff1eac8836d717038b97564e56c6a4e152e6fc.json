{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Ba\\u0300i ta\\u0323\\u0302p/LearningHtml/react-version/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport TaskList from './components/TaskList';\nimport AddTaskForm from './components/AddTaskForm';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const initializeTasks = () => {\n    const savedTasks = localStorage.getItem('tasks');\n    if (savedTasks) {\n      return JSON.parse(savedTasks);\n    }\n    const request = new XMLHttpRequest();\n    request.open('GET', './data.json', false); // synchronous request\n    request.send(null);\n    if (request.status === 200) {\n      return JSON.parse(request.responseText);\n    } else {\n      return [];\n    }\n\n    //Fetch way\n    // const fetchData = async () => {    \n    //   try {\n    //   const response = await fetch('./data.json');\n    //   if (response.ok) {\n    //     const data = await response.json();\n    //     return data;\n    //   } else {\n    //     return [];\n    //   }\n    //   } catch (error) {\n    //   console.error('Error fetching data:', error);\n    //   return [];\n    //   }\n    // };\n  };\n  const [tasks, setTasks] = useState(initializeTasks);\n  const [selectedPriority, setSelectedPriority] = useState(null);\n  const [editingTaskIndex, setEditingTaskIndex] = useState(null);\n  const [showAddTaskForm, setShowAddTaskForm] = useState(false);\n  const [taskToEdit, setTaskToEdit] = useState(null);\n  const saveTasksToLocalStorage = tasks => {\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  };\n  const addTask = task => {\n    const newTasks = [...tasks, task];\n    setTasks(newTasks);\n    saveTasksToLocalStorage(newTasks);\n  };\n  const updateTask = (index, updatedTask) => {\n    const updatedTasks = tasks.map((task, i) => i === index ? {\n      ...task,\n      ...updatedTask\n    } : task);\n    setTasks(updatedTasks);\n    saveTasksToLocalStorage(updatedTasks);\n  };\n  const deleteTask = index => {\n    const updatedTasks = tasks.filter((_, i) => i !== index);\n    setTasks(updatedTasks);\n    saveTasksToLocalStorage(updatedTasks);\n  };\n  const startEditing = index => {\n    if (index !== null) {\n      setEditingTaskIndex(index);\n      setTaskToEdit(tasks[index]);\n      setSelectedPriority(tasks[index].priority);\n      setShowAddTaskForm(true);\n    } else {\n      // Handle adding a new task here, if desired\n      setShowAddTaskForm(true);\n    }\n  };\n  const stopEditing = () => {\n    setEditingTaskIndex(null);\n    setTaskToEdit(null);\n    setSelectedPriority(null);\n    setShowAddTaskForm(false);\n  };\n  const handleFormSubmit = task => {\n    if (editingTaskIndex !== null) {\n      updateTask(editingTaskIndex, task);\n    } else {\n      addTask(task);\n    }\n    stopEditing();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(TaskList, {\n      tasks: tasks,\n      onEdit: startEditing,\n      onDelete: deleteTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), showAddTaskForm && /*#__PURE__*/_jsxDEV(AddTaskForm, {\n      onSubmit: handleFormSubmit,\n      taskToEdit: taskToEdit,\n      selectedPriority: selectedPriority,\n      setSelectedPriority: setSelectedPriority,\n      stopEditing: stopEditing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"RY2DTcA4jo5EbvjsTuM4gQDAoTc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","TaskList","AddTaskForm","jsxDEV","_jsxDEV","App","_s","initializeTasks","savedTasks","localStorage","getItem","JSON","parse","request","XMLHttpRequest","open","send","status","responseText","tasks","setTasks","selectedPriority","setSelectedPriority","editingTaskIndex","setEditingTaskIndex","showAddTaskForm","setShowAddTaskForm","taskToEdit","setTaskToEdit","saveTasksToLocalStorage","setItem","stringify","addTask","task","newTasks","updateTask","index","updatedTask","updatedTasks","map","i","deleteTask","filter","_","startEditing","priority","stopEditing","handleFormSubmit","className","children","onEdit","onDelete","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","_c","$RefreshReg$"],"sources":["/Users/admin/Bài tập/LearningHtml/react-version/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport TaskList from './components/TaskList';\nimport AddTaskForm from './components/AddTaskForm';\nimport './App.css';\n\nconst App = () => {\n  const initializeTasks = () => {\n    const savedTasks = localStorage.getItem('tasks');\n    if (savedTasks) {\n      return JSON.parse(savedTasks);\n    }\n    \n    const request = new XMLHttpRequest();\n    request.open('GET', './data.json', false); // synchronous request\n    request.send(null);\n\n    if (request.status === 200) {\n      return JSON.parse(request.responseText);\n    } else {\n      return [];\n    }\n\n    //Fetch way\n    // const fetchData = async () => {    \n    //   try {\n    //   const response = await fetch('./data.json');\n    //   if (response.ok) {\n    //     const data = await response.json();\n    //     return data;\n    //   } else {\n    //     return [];\n    //   }\n    //   } catch (error) {\n    //   console.error('Error fetching data:', error);\n    //   return [];\n    //   }\n    // };\n  };\n\n  const [tasks, setTasks] = useState(initializeTasks);\n  const [selectedPriority, setSelectedPriority] = useState(null);\n  const [editingTaskIndex, setEditingTaskIndex] = useState(null);\n  const [showAddTaskForm, setShowAddTaskForm] = useState(false);\n  const [taskToEdit, setTaskToEdit] = useState(null);\n\n  const saveTasksToLocalStorage = (tasks) => {\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  };\n\n  const addTask = (task) => {\n    const newTasks = [...tasks, task];\n    setTasks(newTasks);\n    saveTasksToLocalStorage(newTasks);\n  };\n\n  const updateTask = (index, updatedTask) => {\n    const updatedTasks = tasks.map((task, i) =>\n      i === index ? { ...task, ...updatedTask } : task\n    );\n    setTasks(updatedTasks);\n    saveTasksToLocalStorage(updatedTasks);\n  };\n\n  const deleteTask = (index) => {\n    const updatedTasks = tasks.filter((_, i) => i !== index);\n    setTasks(updatedTasks);\n    saveTasksToLocalStorage(updatedTasks);\n  };\n\n  const startEditing = (index) => {\n    if (index !== null) {\n      setEditingTaskIndex(index);\n      setTaskToEdit(tasks[index]);\n      setSelectedPriority(tasks[index].priority);\n      setShowAddTaskForm(true);\n    } else {\n      // Handle adding a new task here, if desired\n      setShowAddTaskForm(true);\n    }\n  };\n  \n\n  const stopEditing = () => {\n    setEditingTaskIndex(null);\n    setTaskToEdit(null);\n    setSelectedPriority(null);\n    setShowAddTaskForm(false);\n  };\n\n  const handleFormSubmit = (task) => {\n    if (editingTaskIndex !== null) {\n      updateTask(editingTaskIndex, task);\n    } else {\n      addTask(task);\n    }\n    stopEditing();\n  };\n\n  return (\n    <div className=\"container\">\n      <TaskList\n        tasks={tasks}\n        onEdit={startEditing}\n        onDelete={deleteTask}\n      />\n      {showAddTaskForm && (\n        <AddTaskForm\n          onSubmit={handleFormSubmit}\n          taskToEdit={taskToEdit}\n          selectedPriority={selectedPriority}\n          setSelectedPriority={setSelectedPriority}\n          stopEditing={stopEditing}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}