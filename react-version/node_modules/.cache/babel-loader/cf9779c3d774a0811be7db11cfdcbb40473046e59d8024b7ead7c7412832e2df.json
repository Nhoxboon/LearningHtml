{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Ba\\u0300i ta\\u0323\\u0302p/LearningHtml/react-version/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport TaskList from './component/TaskList';\nimport AddTaskForm from './component/AddTaskForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [editingTaskIndex, setEditingTaskIndex] = useState(null);\n  useEffect(() => {\n    const loadTasksFromLocalStorage = () => {\n      const tasksJSON = localStorage.getItem('tasks');\n      if (tasksJSON) {\n        setTasks(JSON.parse(tasksJSON));\n      } else {\n        fetchTasks();\n      }\n    };\n    const fetchTasks = async () => {\n      try {\n        const response = await fetch('./data.json');\n        if (response.ok) {\n          const data = await response.text();\n          try {\n            const jsonData = JSON.parse(data);\n            setTasks(jsonData);\n          } catch (error) {\n            console.error('Invalid JSON:', data);\n          }\n        } else {\n          console.error('Server response:', response.status);\n        }\n      } catch (error) {\n        console.error('Fetch error:', error);\n      }\n    };\n    loadTasksFromLocalStorage();\n  }, []);\n  const saveTasksToLocalStorage = tasks => {\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  };\n  const addTask = task => {\n    const newTasks = [...tasks, task];\n    setTasks(newTasks);\n    saveTasksToLocalStorage(newTasks);\n  };\n  const updateTask = (index, updatedTask) => {\n    const newTasks = tasks.map((task, i) => i === index ? updatedTask : task);\n    setTasks(newTasks);\n    saveTasksToLocalStorage(newTasks);\n  };\n  const deleteTask = index => {\n    const newTasks = tasks.filter((_, i) => i !== index);\n    setTasks(newTasks);\n    saveTasksToLocalStorage(newTasks);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center p-2 bd-highlight\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Task List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary rounded-5 bg-purple\",\n          onClick: () => setEditingTaskIndex(null),\n          children: \"+ Add Task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n        tasks: tasks,\n        editTask: setEditingTaskIndex,\n        deleteTask: deleteTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), editingTaskIndex !== null && /*#__PURE__*/_jsxDEV(AddTaskForm, {\n      task: tasks[editingTaskIndex],\n      saveTask: task => {\n        if (editingTaskIndex !== null) {\n          updateTask(editingTaskIndex, task);\n          setEditingTaskIndex(null);\n        } else {\n          addTask(task);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"bRVpkJ/bt1s/+kqI+zbJgLKpHGI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","TaskList","AddTaskForm","jsxDEV","_jsxDEV","App","_s","tasks","setTasks","editingTaskIndex","setEditingTaskIndex","loadTasksFromLocalStorage","tasksJSON","localStorage","getItem","JSON","parse","fetchTasks","response","fetch","ok","data","text","jsonData","error","console","status","saveTasksToLocalStorage","setItem","stringify","addTask","task","newTasks","updateTask","index","updatedTask","map","i","deleteTask","filter","_","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","editTask","saveTask","_c","$RefreshReg$"],"sources":["/Users/admin/Bài tập/LearningHtml/react-version/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport TaskList from './component/TaskList';\nimport AddTaskForm from './component/AddTaskForm';\n\nconst App = () => {\n  const [tasks, setTasks] = useState([]);\n  const [editingTaskIndex, setEditingTaskIndex] = useState(null);\n\n  useEffect(() => {\n    const loadTasksFromLocalStorage = () => {\n      const tasksJSON = localStorage.getItem('tasks');\n      if (tasksJSON) {\n        setTasks(JSON.parse(tasksJSON));\n      } else {\n        fetchTasks();\n      }\n    };\n\n    const fetchTasks = async () => {\n      try {\n        const response = await fetch('./data.json');\n        if (response.ok) {\n          const data = await response.text();\n          try {\n            const jsonData = JSON.parse(data);\n            setTasks(jsonData);\n          } catch (error) {\n            console.error('Invalid JSON:', data);\n          }\n        } else {\n          console.error('Server response:', response.status);\n        }\n      } catch (error) {\n        console.error('Fetch error:', error);\n      }\n    };\n\n    loadTasksFromLocalStorage();\n  }, []);\n\n  const saveTasksToLocalStorage = (tasks) => {\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  };\n\n  const addTask = (task) => {\n    const newTasks = [...tasks, task];\n    setTasks(newTasks);\n    saveTasksToLocalStorage(newTasks);\n  };\n\n  const updateTask = (index, updatedTask) => {\n    const newTasks = tasks.map((task, i) => (i === index ? updatedTask : task));\n    setTasks(newTasks);\n    saveTasksToLocalStorage(newTasks);\n  };\n\n  const deleteTask = (index) => {\n    const newTasks = tasks.filter((_, i) => i !== index);\n    setTasks(newTasks);\n    saveTasksToLocalStorage(newTasks);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"task-list\">\n        <div className=\"d-flex justify-content-between align-items-center p-2 bd-highlight\">\n          <h2>Task List</h2>\n          <button className=\"btn btn-primary rounded-5 bg-purple\" onClick={() => setEditingTaskIndex(null)}>\n            + Add Task\n          </button>\n        </div>\n        <TaskList tasks={tasks} editTask={setEditingTaskIndex} deleteTask={deleteTask} />\n      </div>\n      {editingTaskIndex !== null && (\n        <AddTaskForm\n          task={tasks[editingTaskIndex]}\n          saveTask={(task) => {\n            if (editingTaskIndex !== null) {\n              updateTask(editingTaskIndex, task);\n              setEditingTaskIndex(null);\n            } else {\n              addTask(task);\n            }\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}